<!doctype html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>hello phaser!</title>
        <script src="/bower_components/phaser/build/phaser.js"></script>
    </head>
    <body>

    <script type="text/javascript">

    window.onload = function() {

        var game = new Phaser.Game(800, 600, Phaser.AUTO, '', { preload: preload, create: create });
        
        var terrain;
        
        var gui = new GameUI();
        
        function GameUI() {
            var ui = this;
            
            this.preload = function () {
                
            };
            
            this.create = function() {
                ui.score = 0;
                ui.scoreText = game.add.text(16, 16, 'score: 0',  { fontSize: '32px', fill: '#000' });
            };
            
            this.update = function () {
                
            };
        };
        
        

        function preload () {
            game.load.spritesheet('land_coldwatergrass', 'assets/coldwatergrass.png', 32, 32);
            game.load.spritesheet('land_icegrass', 'assets/icegrass.png', 32, 32);
            game.load.spritesheet('land_plowed_soil', 'assets/plowed_soil.png', 32, 32);
            game.load.spritesheet('land_tallgrass', 'assets/tallgrass.png', 32, 32);
            game.load.spritesheet('land_wheat', 'assets/wheat.png', 32, 32);
            
            
            gui.preload();
            
        }

        function create () {
            terrain = game.add.group();
            
            // terrain.create.
            
            gui.create();
            
            // var logo = game.add.sprite(game.world.centerX, game.world.centerY, 'logo');
            // logo.anchor.setTo(0.5, 0.5);
            
            for (var i = 0; i < 5; i++) {
                for (var j = 0; j < 6; j++) {
                    var s = game.add.sprite(game.world.centerX + i * 32, 
                        game.world.centerY + j * 32, 'land_coldwatergrass', i + j * 5);
                    s.anchor.setTo(0.5, 0.5);
                }
            }
        }
        
        function update() {
            
            gui.update();
        }

    };

    </script>

    </body>
</html>
